<!-- Página del carrito de compras -->
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Tienda virtual</title>

</head>
<body>
  <header style="margin-top: -21px">
    <h1>
      <div class="titulo-encabezado">
        <img src="logo-pag.png" alt="Logo" style="width: 250px; height: auto;">
      </div>
    </h1>
    <div class="Encabezado">
      <div class="contenido-central">
        <nav>
          <ul>
            <li><a href="index.html">Inicio</a></li>
            <li><a href="#">Nueva colección</a></li>
            <li><a href="#">Sale</a></li>
          </ul>
        </nav>
      </div>
      <div class="icono-carrito"></div>
    </div>
  </header>

  <h2>Carrito de Compras</h2>
  <ul id="carritoLista" style="display: flex; flex-direction:column; justify-content: center;" ></ul>

  <p id="seccion-boton">
    <button id="vaciar-carrito">Vaciar Carrito</button>
  </p>

  <footer class="bg-theme-10 text-white text-center p-4 fixed bottom-0 left-0 w-full border-t border-theme-10">
    <div class="grid grid-cols-3 max-w-lg mx-auto font-medium">
      <ul id="list-redes-sociales">
        <li>
        <a href="https://www.facebook.com/TU-PERFIL/?locale=es_ES" type="button" id="link-social-network">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8 mb-1 text-theme-900 group-hover:text-theme-500" fill="#753871" width="30" height="30" viewBox="0 0 24 24">
            <path d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
          </svg>

            <span id="redes-sociales">Facebook</span>
        </a> </li>
        
        <li><a href="https://www.instagram.com/TU-PERFIL/" type="button" id="link-social-network">
          <svg aria-hidden="true" focusable="false" class="icon icon-instagram" fill="#753871" width="30" height="30" viewBox="0 0 18 18">
            <path fill="#753871" d="M8.77 1.58c2.34 0 2.62.01 3.54.05.86.04 1.32.18 1.63.3.41.17.7.35 1.01.66.3.3.5.6.65 1 .12.32.27.78.3 1.64.05.92.06 1.2.06 3.54s-.01 2.62-.05 3.54a4.79 4.79 0 01-.3 1.63c-.17.41-.35.7-.66 1.01-.3.3-.6.5-1.01.66-.31.12-.77.26-1.63.3-.92.04-1.2.05-3.54.05s-2.62 0-3.55-.05a4.79 4.79 0 01-1.62-.3c-.42-.16-.7-.35-1.01-.66-.31-.3-.5-.6-.66-1a4.87 4.87 0 01-.3-1.64c-.04-.92-.05-1.2-.05-3.54s0-2.62.05-3.54c.04-.86.18-1.32.3-1.63.16-.41.35-.7.66-1.01.3-.3.6-.5 1-.65.32-.12.78-.27 1.63-.3.93-.05 1.2-.06 3.55-.06zm0-1.58C6.39 0 6.09.01 5.15.05c-.93.04-1.57.2-2.13.4-.57.23-1.06.54-1.55 1.02C1 1.96.7 2.45.46 3.02c-.22.56-.37 1.2-.4 2.13C0 6.1 0 6.4 0 8.77s.01 2.68.05 3.61c.04.94.2 1.57.4 2.13.23.58.54 1.07 1.02 1.56.49.48.98.78 1.55 1.01.56.22 1.2.37 2.13.4.94.05 1.24.06 3.62.06 2.39 0 2.68-.01 3.62-.05.93-.04 1.57-.2 2.13-.41a4.27 4.27 0 001.55-1.01c.49-.49.79-.98 1.01-1.56.22-.55.37-1.19.41-2.13.04-.93.05-1.23.05-3.61 0-2.39 0-2.68-.05-3.62a6.47 6.47 0 00-.4-2.13 4.27 4.27 0 00-1.02-1.55A4.35 4.35 0 0014.52.46a6.43 6.43 0 00-2.13-.41A69 69 0 008.77 0z"></path>
            <path fill="#753871" d="M8.8 4a4.5 4.5 0 100 9 4.5 4.5 0 000-9zm0 7.43a2.92 2.92 0 110-5.85 2.92 2.92 0 010 5.85zM13.43 5a1.05 1.05 0 100-2.1 1.05 1.05 0 000 2.1z">
          </path></svg>        
          <span id="redes-sociales">Instagram</span>
        </a> </li>
        
        <li><a href="https://api.whatsapp.com/send?phone=TU-TELEFONO" type="button" id="link-social-network">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="#753871" width="30" height="30" viewBox="0 0 24 24">
            <path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372s-1.04 1.016-1.04 2.479 1.065 2.876 1.213 3.074c.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z"></path>
        </svg>
            <span id="redes-sociales">Whatsapp</span>
        </a></li>
      </ul>
    </div>
    <p class="mt-4">&copy; 2023 electriko accesorios. Todos los derechos reservados.</p>
</footer>
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      // Obtén el carrito desde localStorage
      const carrito = JSON.parse(localStorage.getItem("carrito")) || [];

      // Obtén el elemento de la lista del carrito
      const carritoLista = document.getElementById("carritoLista");

      function mostrarCarrito() {
        carritoLista.innerHTML = "";
        if (carrito && carrito.length > 0) {
          carrito.forEach((product) => {
            const listItem = document.createElement("li");

            // Contenedor para la imagen
            const imageContainer = document.createElement("div");
            const productImage = document.createElement("img");
            productImage.src = product.image;
            productImage.alt = product.title;
            productImage.style.width = "100px";
            imageContainer.appendChild(productImage);

            // Contenedor para el nombre y el precio
            // Contenedor para el texto (nombre y precio) como lista
            const textContainer = document.createElement("ul");
            textContainer.id="lista-texto";
            textContainer.classList.add("textContainer");

            const productNameItem = document.createElement("li");
            productNameItem.id = "elementos-lista-texto1";
            const productName = document.createElement("span");
            productName.textContent = product.title;
            productNameItem.appendChild(productName);

            const productPriceItem = document.createElement("li");
            productPriceItem.id = "elementos-lista-texto";
            const productPrice = document.createElement("span");
            productPrice.textContent = product.price;
            productPriceItem.appendChild(productPrice);

            textContainer.appendChild(productNameItem);
            textContainer.appendChild(productPriceItem);

            // Contenedor para los botones de incremento y decremento
            const buttonsContainer = document.createElement("div");
            buttonsContainer.id = "contenedor-botones"
            const decrementButton = document.createElement("button");
            decrementButton.textContent = "-";
            decrementButton.addEventListener("click", () => decrementarCantidad(product));
            const quantityElement = document.createElement("span");
            quantityElement.textContent = `Cantidad: ${product.quantity || 1}`;
            const incrementButton = document.createElement("button");
            incrementButton.textContent = "+";
            incrementButton.addEventListener("click", () => incrementarCantidad(product));
            buttonsContainer.appendChild(decrementButton);
            buttonsContainer.appendChild(quantityElement);
            buttonsContainer.appendChild(incrementButton);

            // Contenedor para textContainer y buttonsContainer
            const contentContainer = document.createElement("div");
            contentContainer.appendChild(textContainer);
            contentContainer.appendChild(buttonsContainer);

            // Agregar contenedores al listItem
            listItem.appendChild(imageContainer);
            listItem.appendChild(contentContainer);

            // Agregar listItem a la lista del carrito
            carritoLista.appendChild(listItem);
          });
        } else {
          carritoLista.innerHTML = "<p>El carrito está vacío.</p>";
        }
      }

      // Función para incrementar la cantidad del producto
      function incrementarCantidad(product) {
        // Verificar si la propiedad 'quantity' existe y es un número
        if (typeof product.quantity === 'number') {
          product.quantity += 1;
        } else {
          // Si no existe o no es un número, establecerla en 1
          product.quantity = 1;
        }

        // Llamar a la función para actualizar el carrito
        actualizarCarrito();
      }

      // Función para decrementar la cantidad del producto
      function decrementarCantidad(product) {
        if (product.quantity > 1) {
          product.quantity -= 1;
        } else {
          // Si la cantidad es 1 o menos, eliminar el producto del carrito
          carrito.splice(carrito.indexOf(product), 1);
        }
        actualizarCarrito();
      }

      // Actualiza el carrito en localStorage y vuelve a mostrarlo
      function actualizarCarrito() {
        localStorage.setItem("carrito", JSON.stringify(carrito));
        mostrarCarrito();
      }

      // Agrega un manejador de eventos al botón "Vaciar Carrito"
      const vaciarCarritoButton = document.getElementById("vaciar-carrito");
      vaciarCarritoButton.addEventListener("click", () => {
        // Llama a una función para vaciar el carrito
        vaciarCarrito();
      });

      // Función para vaciar el carrito
      function vaciarCarrito() {
        // Elimina los ítems del carrito desde el localStorage
        localStorage.removeItem("carrito");

        // Limpia la lista en la página
        carritoLista.innerHTML = "<p>El carrito está vacío.</p>";
      }

      mostrarCarrito(); // Asegurarse de que se muestre el carrito al cargar la página
    });
  </script>
  <link href="styleCarrito.css" rel="stylesheet" type="text/css" />
</body>
</html>
